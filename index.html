<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Minimalist Music</title>

	<link rel="stylesheet" href="src/main/reset.css">
	<link rel="stylesheet" href="src/main/icon-font.css">
	<link rel="stylesheet" href="src/main/atomic.css">
	<link rel="stylesheet" href="src/main/styles.css">

	<link rel="stylesheet" href="src/toolbar/breadcrumb-bar.css">
	<link rel="stylesheet" href="src/explorer/explorer.css">
</head>
<body onload="MainWindow.loaded()">
<main data-tauri-drag-region>

	<!-- WINDOW CONTROLS -->
	<window-controls class="window-controls layer-controls">
		<button class="material-symbols-outlined" onclick="MainWindow.minimize()">remove</button>
		<button class="material-symbols-outlined c-red close-window" onclick="MainWindow.close()">close</button>
	</window-controls>

	<!-- TRACK INFO -->
	<track-info class="inert layer-controls">
		<label id="title" class="fw-l">Minimalist Music</label>
		<label id="album-artist" class="c-prime ff-m">Hello...</label>
	</track-info>

	<!-- VISUALIZATION -->
	<svg id="wave" class="inert">
		<defs>
			<linearGradient id="progress-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
			  <stop offset="40%" style="stop-color:#aaa" />
			  <stop offset="40%" style="stop-color:#eee" />
			</linearGradient>
		  </defs>

		<clipPath id="clip"></clipPath>
		<rect width="100%" height="100%" id="progress" clip-path="url(#clip)" fill="url(#progress-gradient)"></rect>
	</svg>

	<input type="range" id="seek" class="layer-controls" onmousedown="Player.onSeekMouseDown()" onmouseup="Player.onSeekMouseUp()">

	<!-- CONTROLS -->
	<controls class="row centered controls-container">
		<div class="volume-container row center">
			<button id="volume-icon" class="material-symbols-outlined">volume_up</button>
			<!-- <div class="volume-slider transparent"></div> -->
			<input type="range" max="1" step="0.05" id="volume-level" class="volume-slider" onchange="Player.onVolumeChange()">
		</div>
		<button class="material-symbols-outlined">repeat</button>

		<button class="material-symbols-outlined sym-l" onclick="Player.rw();">skip_previous</button>
		<button id="play-pause" class="material-symbols-outlined fab elev bg-prime-d c-sec" onclick="Player.playPause();"></button>
		<button class="material-symbols-outlined sym-l" onclick="Player.ff();">skip_next</button>

		<button class="material-symbols-outlined">shuffle</button>

		<div class="row seek-container">
			<div class="row fs-s fw-r c-sec bg-prime-d ff-m">
				<label id="current-position" class="c-prime-d bg">--:--</label>
				<label id="duration">--:--</label>
			</div>
		</div>

	</controls>

	<button class="expand material-symbols-outlined" onclick="MainWindow.expandCollapse()">expand_more</button>

	<!-- TOOLBAR -->
	<toolbar>
		<breadcrumb-bar>
			<!-- <button class="material-symbols-outlined">search</button> -->
			<button class="material-symbols-outlined" onclick="BreadcrumbBar.up()">arrow_upward</button>
			<crumb-list></crumb-list>
		</breadcrumb-bar>

		<search-bar style="display: none;">
			<button class="material-symbols-outlined">close</button>
			<input type="text" onchange="console.log('changed')">
		</search-bar>

		<!--
			<queue-bar>
				<button id="cancel-playlist"></button>
				<button id="add-playlist"></button>
				<button id="play-playlist"></button>
			</queue-bar>
		-->

	</toolbar>

	<!-- EXPLORER - two to do transition animations...actually three are needed -->
	<explorer-container>
		<explorer class="current" data-dir=""></explorer>
		<explorer class="out" data-dir=""></explorer>
		<explorer class="in" data-dir=""></explorer>
	</explorer-container>

	<!-- ROOT FOLDER CONFIGURATION -->
	<button class="lib" onclick="Explorer.setRootDir()">
		<i class="material-symbols-outlined">library_music</i>
		<!-- CHOOSE LIBRARY FOLDER -->
		<p>Please choose the root folder<br>of your music library.</p>
	</button>

	<bottom-bar class="elev">
		<button class="collapse material-symbols-outlined" onclick="Explorer.setRootDir()">library_music</button>
		<button class="collapse material-symbols-outlined" onclick="">search</button>
		<button class="collapse material-symbols-outlined" onclick="MainWindow.expandCollapse()">expand_less</button>
	</bottom-bar>

	<!-- audio element -->
	<audio id="audio" src=""></audio>

	<!-- <script type="module" src="src/core/native.js"></script>
	<script type="module" src="src/core/prefs.js"></script>
	<script type="module" src="src/core/state.js"></script> -->
	<script type="module" src="src/core/util.js"></script>
	<script type="module" src="src/main/main.js"></script>

	<!-- <script type="module" src="src/toolbar/breadcrumb-bar.js"></script>
	<script type="module" src="src/explorer/explorer.js"></script>
	<script type="module" src="src/player/visualizer.js"></script>
	<script type="module" src="src/core/metadata.js"></script>
	<script type="module" src="src/player/player.js"></script> -->

	<!-- <input type="file" onchange="loadFile(this);"> -->

</main>
</body>
</html>
